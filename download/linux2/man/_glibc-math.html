<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
 <meta name="GENERATOR" content="SGML-Tools 1.0.9">
 <title> Библиотека языка C GNU glibc: Математика</title>
 </head><body>


</p><p>Эта глава содержит информацию относительно функций для
выполнения математических вычислений, типа тригонометрических
функций. Большинство этих функций имеет прототипы, объявленные в
файле "math.h".
</p><p>Все функции используют  аргументы с плавающей запятой и
возвращают результаты типа double. В будущем, могут появиться
дополнительные функции, которые используют значения long
double и float. Например, cosf и cosl были бы версиями функци cos,
которые используют аргументы типов float и long double,
соответственно. Вы должны избегать использовать эти
имена самостоятельно. 
</p><p>
</p><h2><a name="ss13.1">Ошибки Области и Диапазона</a>
</h2>

<p>
</p><p>Многие из функций, перечисленных в этой главе определены
математически над областью, которая является только подмножеством
вещественных чисел. Например, acos функция определена над областью
от -1 до 1. Если Вы передаете аргумент одной из этих функций,
который не находится в области, на которой она определена, функция
устанавливает errno как EDOM, чтобы указать ошибку области. На
машинах, которые поддерживают формат ИИЭР (IEEE) с плавающей запятой,
также возвращают ошибку EDOM и NaN.
</p><p>Некоторые из этих функций определены математически, чтобы
привести к комплексному значению над частями их областей. Наиболее
знакомый пример это квадратный корень отрицательного числа.
</p><p>Функции в этой главе берут аргументы только с плавающей точкой и
возвращают значения соответственно того же типа.
</p><p>Проблема возникает тогда, когда математический результат
функции не может быть представим как число с плавающей запятой.
Если величина результата слишком большая,  функция устанавливает
errno как ERANGE, чтобы указать ошибку диапазона, и возвращает
"очень большое значение" (именованое макрокомандой HUGE_VAL) или
отрицание (- HUGE_VAL).
</p><p>Если величина результата является слишком малой, возвращается
нулевое значение. В этом случае, errno может быть или не быть
установлена как ERANGE.
</p><p>Единственый полностью надежный способ проверять ошибки области и
диапазона состоит в том, чтобы установить errno как 0 прежде чем Вы
вызываете математическую функцию и затем проверять errno. Следствие такого
использования errno является то, что математические функции не могут быть
многократно использованы с проверкой ошибок.
</p><p>Ни одна из математических функций не генерирует сигналы в результате ошибок
диапазона или области. В частности это означает что Вы не будете видеть
сигналы SIGFPE, сгенерированные внутри этих функций. (См. Главу 21 [Обработка
Сигнала], для получения более подробной информации.)
</p><p>
</p><blockquote><code>
</code><pre>     double HUGE_VAL  (макрос)
</pre>
</blockquote>

Это выражение представляющее наибольшее число. На машинах, которые
используют, ИИЭР формат с плавающей запятой это значение "бесконечность".
На других машинах, это обычно самое большое положительное число, которое может
быть представлено.
<p>Значение этой макрокоманды используется как возвращаемое значение
из различных математических функций в случаях переполнения.
</p><p>Для получения более подробной информации см. Раздел A. 5.3.2
[Параметры с плавающей запятой]. В частности макрокоманда DBL_MAX
могла бы быть более удобной, чем HUGE_VAL для многих использований отличных
от тестирования ошибки в математической функции.
</p><p>
</p><h2><a name="ss13.2">Тригонометрические Функции</a>
</h2>

<p>
</p><p>Это знакомые функции sin, cos, и tan. Аргументы всех этих
функций измеряются в радианах; помните, что pi радиан равняются 180
градусам.
</p><p>Математическая библиотека не определяет символическую константу
для pi, но Вы можете определять вашу собственную, если Вы
нуждаетесь в этом:
</p><p>
</p><blockquote><code>
</code><pre>    #define PI 3.14159265358979323846264338327
</pre>
</blockquote>

Вы можете также вычислять значение pi выражением acos (-1.0).
<p>
</p><blockquote><code>
</code><pre>    double sin (double x)
</pre>
</blockquote>

Эта функция возвращает синус x, где x дан в радианах.
Возвращаемое значение находится в диапазоне от -1 до 1.
<p>
</p><blockquote><code>
</code><pre>    double cos (double x)
</pre>
</blockquote>

Эта функция возвращает косинус x, где x дан в радианах.
Возвращаемое значение находится в диапазоне от -1 до 1.
<p>
</p><blockquote><code>
</code><pre>    double tan (double x)
</pre>
</blockquote>

Эта функция возвращает тангенс x, где x дан в радианах.
<p>
</p><p>
</p><p>Следующие errno условия ошибки определены для этой функции:
</p><dl>
<dt><b>ERANGE </b></dt><dd><p>Математически  функция tan имеет особенности в точках
(2*k+1)*pi/2. Если аргумент x близок к одной из этих особенностей, tan
устанавливает errno как ERANGE и возвращает или положительный или
отрицательный HUGE_VAL.
</p></dd></dl>
<h2><a name="ss13.3">Обратные Тригонометрические Функции</a>
</h2>

<p>
</p><p>Это обычные arcsin, arccos и arctan функции, которые являются
обратными для синуса, косинуса и тангенса, соответственно.
</p><p>
</p><blockquote><code>
</code><pre>    double asin (double x)
</pre>
</blockquote>

Эта функция вычисляет арксинус x то есть значение, чей синус
является x. Значение результата дается в радианах. Математически,
имеется бесконечно много таких значений; но фактически возвращаются
значения между -pi/2 и pi/2 (включая).
<p>Asin устанавливает errno как EDOM, если x находится вне
диапазона. Функция арксинуса определена математически только над
областью от -1 до 1.
</p><p>
</p><blockquote><code>
</code><pre>    double acos (double x)
</pre>
</blockquote>

Эта функция вычисляет аркосинус x, то есть значение, чей косинус
является x. Значение результата дается в радианах. Математически,
имеется бесконечно много таких значений; но фактически возвращаются
значения между 0 и pi (включая).
<p>Acos устанавливает errno как EDOM, если x находится вне
диапазона. Функция аркосинуса определена математически только над
областью от -1 до 1.
</p><p>
</p><blockquote><code>
</code><pre>    double atan (double x)
</pre>
</blockquote>

Эта функция вычисляет арктангенс x то есть значение, чей тангенс
является x.
<p>Значение результата дается в радианах. Математически, имеется
бесконечно много таких значений; но фактически возвращаются
значения между -pi/2 и pi/2 (включая).
</p><p>
</p><blockquote><code>
</code><pre>    double atan2 (double y, double x)
</pre>
</blockquote>

Это функция арктангенса двух аргументов. Она подобна
вычислению арктангенса y/x, за исключением того, что знаки обоих
аргументов используются, чтобы определить квадрант результата, и x
может быть нулем. Возвращаемое значение дано в радианах и
находится в диапазоне от -pi до pi (включительно).
<p>Если x и y координаты точки в плоскости, atan2 возвращает угол
между линией от начала координат до этой точки и осью X. Таким
образом, atan2 полезен для преобразования декартовых координат в
полярные координаты. (Чтобы вычислять радиальную координату,
используйте hypot; см. Раздел   13.4 [Экспоненты и Логарифмы])
</p><p>Функция atan2 устанавливает errno как EDOM, если и x и y
нули и возвращаемое значение не определено.
</p><p>
</p><h2><a name="ss13.4">Возведение в степень и Логарифмы</a>
</h2>

<p>
</p><p>
</p><blockquote><code>
</code><pre>    double exp (double x)
</pre>
</blockquote>

Эта функция возвращает значение e (основание натуральных
логарифмов) в степени x.
<p>Если величина результата слишком большая, чтобы быть
представимой функция устанавливает errno как ERANGE.
</p><p>
</p><blockquote><code>
</code><pre>    double log (double x)
</pre>
</blockquote>

Эта функция возвращает натуральный логарифм x. exp (log(x))
равняется x, точно в математике и приблизительно в Cи.
<p>
</p><p>Следующие условия ошибки errno определены для этой функции:
</p><p>Функция устанавливает EDOM, если аргумент x отрицателен. Функция log
определена математически, чтобы возвращать результат только на
положительных аргументах.
</p><p>Функция устанавливает ERANGE, если аргумент - нуль. Log нуля не определен.
</p><p>
</p><blockquote><code>
</code><pre>    double log10 (double x)
</pre>
</blockquote>

Эта функция возвращает логарифм x по основанию 10. Кроме
основания , она подобна функции log. Фактически, log10 (x)
равняется log (x) / log (10).
<p>
</p><blockquote><code>
</code><pre>    double pow (double base, double power)
</pre>
</blockquote>

Это общая функция возведения в степень, возвращающая base в
степени power.
<p>Следующие условия ошибки errnoопределены для этой функции:
</p><p>Функция устанавливает EDOM base, если аргумент отрицателен.
</p><p>Функция устанавливает ERANGE, если было обнаружено условие переполнения.
</p><p>
</p><blockquote><code>
</code><pre>    double sqrt (double x)
</pre>
</blockquote>

Эта функция возвращает квадратный корень x.
<p>Sqrt устанавливает errno как EDOM, если x отрицателен.
Математически, квадратный корень был бы комплексным числом.
</p><p>
</p><blockquote><code>
</code><pre>    double cbrt (double x)
</pre>
</blockquote>

Эта функция возвращает кубический корень x. Эта функция определена
на всей вещественной оси и поэтому не изменяет переменную errno.
<p>
</p><p>
</p><blockquote><code>
</code><pre>    double hypot (double x, double y)
</pre>
</blockquote>

Эта функция возвращает sqrt (x * x + y * y). (Это длина
гипотенузы прямоугольного треугольника со сторонами длины x и y,
или расстояние точки (x, y) от начала.) См. также  функцию cabs в
Разделе 14.3 [Абсолютное значение].
<p>
</p><blockquote><code>
</code><pre>    double expm1 (double x)
</pre>
</blockquote>

Эта функция возвращает эквивалент значения exp (x) - 1. Оно
вычислено точным способом, даже если значение x близко к нулю.
<p>
</p><blockquote><code>
</code><pre>    double log1p (double x)
</pre>
</blockquote>

Эта функция возвращает эквивалент значения log (1 + x). Оно
вычислено точным способом, даже если значение x - близко к нулю.
<p>
</p><h2><a name="ss13.5"> Гиперболические функции</a>
</h2>

<p>
</p><p>Функции в этом разделе связаны с экспоненциальными функциями; см.
Раздел 13.4 [Экспоненты и Логарифмы].
</p><p>
</p><blockquote><code>
</code><pre>    double sinh (double x)  (функция)
</pre>
</blockquote>

Эта функция возвращает гиперболический синус x, определенный
математически как exp (x) - exp (-x) /.2  Функция устанавливает errno
как ERANGE, если значение x слишком большое; то есть если происходит
переполнение.
<p>
</p><blockquote><code>
</code><pre>    double cosh (double x)  (функция)
</pre>
</blockquote>

Функция cosh возвращает гиперболический косинус x, определенный
математически как exp (x) + exp (-x) /.2  Функция устанавливает errno как
ERANGE, если значение x слишком большое; то есть если происходит переполнение.
<p>
</p><p>
</p><p>
</p><p>
</p><blockquote><code>
</code><pre>    double tanh (double x)  (функция)
</pre>
</blockquote>

Эта функция возвращает гиперболический тангенс x, чье
математическое определение sinh (x) / cosh (x).
<p>
</p><blockquote><code>
</code><pre>    double asinh (double x)  (функция)
</pre>
</blockquote>

Эта функция возвращает обратный гиперболический синус x, чей
гиперболический синус является x.
<p>
</p><blockquote><code>
</code><pre>    double acosh (double x)  (функция)
</pre>
</blockquote>

Эта функция возвращает обратный гиперболический косинус x, чей
гиперболический косинус является x. Если x - меньше чем 1, acosh
возвращает HUGE_VAL.
<p>
</p><blockquote><code>
</code><pre>    double atanh (double x)  (функция)
</pre>
</blockquote>

Эта функция возвращает обратный гиперболический тангенс x, чей
гиперболический тангенс является x. Если абсолютное значение x
больше или равно 1, atanh возвращает HUGE_VAL.
<p>
</p><h2><a name="ss13.6"> Псевдослучайные Числа</a>
</h2>

<p>
</p><p>Этот раздел описывает средства GNU для получения ряда
псевдослучайных чисел. Сгенерированные числа не совсем
произвольные; обычно, они формируют последовательность, которая
повторяется периодически, с периодом настолько большим, что Вы
можете игнорировать его для обычных целей. Генератор случайных
чисел работает, используя всегда значение начального числа, чтобы
вычислить следующее случайное число и так далее.
</p><p>Хотя сгенерированные чисала выглядят непредсказуемо при одном
выполнении программы, последовательность чисел точно та же самая
и при следующем выполении. Это происходит, потому что начальное  число
всегда одно то же . Это удобно, когда Вы отлаживаете программу, но
неподходит, если Вы хотите, чтобы  программа вела себя
непредсказуемо. Если Вы хотите действительно случайные числа, а не
только псевдослучайными, определяйте начальное число, основываясь
на текущем времени.
</p><p>Вы можете получать повторяющиеся последовательности чисел на
машине определенного типа, определяя то же самое начальное значение
начального числа для генератора случайных чисел. Не существует
никакого стандарта для значения начального числа; то же самое
начальное число, используемое в различных библиотеках C или на
различных типах CPU , даст Вам различные случайные числа.
</p><p>Библиотека GNU поддерживает стандартные функции случайного числа
ANSI C плюс набор, который происходит от BSD. Мы рекомендуем, чтобы Вы
использовали стандартные rand и srand.
</p><p>
</p><h3>Функции Случайного числа ANSI C</h3>

<p>
</p><p>Этот раздел описывает функции случайного числа, которые являются
частью стандарта ANSI C.
</p><p>Чтобы использовать эти средства, Вы должны включить заглавный
файл "stdlib.h" в вашей программе.
</p><p>
</p><blockquote><code>
</code><pre>    int RAND_MAX  (макрос)
</pre>
</blockquote>

Значение этой макрокоманды - выражение константы integer, которое
представляет максимальное возможное значение, возвращенное функцией
rand. В библиотеке GNU, это - 037777777, которое является самым
большим целым числом со знаком, представимым в 32 битах. В других
библиотеках это может быть всего 32767.
<p>
</p><blockquote><code>
</code><pre>    int rand ()  (функция)
</pre>
</blockquote>

Функция rand возвращает следующее псевдослучайное число.
Значение находится в диапазоне от 0 до RAND_MAX.
<p>
</p><p>
</p><p>
</p><p>
</p><blockquote><code>
</code><pre>    void srand (unsigned int seed)  (функция)
</pre>
</blockquote>

Эта функция устанавливает seed как начальное число для нового
ряда псевдослучайных чисел.
<p>Если Вы вызываете rand перед тем как начальное число было
установлен srand, то она использует значение 1 как заданное по
умолчанию начальное число.
</p><p>Чтобы производить случайные числа (не только псевдослучайные),
делайте srand(time(0)).
</p><p>
</p><p>
</p><h3>BSD Функции Случайного числа</h3>

<p>
</p><p>Этот раздел описывает набор функций для порождения случайного
числа, являющиеся дополнением к BSD.
</p><p>Нет особого преимущества при использовании этих функций
с библиотекой GNU C; мы поддерживаем их только для совместимости
BSD.
</p><p>Прототипы для этих функций находятся в " stdlib.h ".
</p><p>
</p><blockquote><code>
</code><pre>    long int random ()  (функция)
</pre>
</blockquote>

Эта функция возвращает следующее псевдослучайное число. Диапазон
возвращенных значений - от 0 до RAND_MAX.
<p>
</p><blockquote><code>
</code><pre>    void srandom (unsigned int seed)  (функция)
</pre>
</blockquote>

Srandom функция устанавливает начальное число для random. Если
Вы обеспечиваете значение начального числа 1, это заставит random
воспроизводить набор случайных значений по умолчанию.
<p>Чтобы производить действительно случайные числа (не только
псевдослучайные), делайте srandom(time(0)).
</p><p>
</p><blockquote><code>
</code><pre>    void * initstate (unsigned int seed, void *state, size_t size) (функция)
</pre>
</blockquote>

Эта функция используется, чтобы инициализировать состояние
генератора случайного числа. Аргумент state  это массив size байтов,
используемый для хранения информации о состоянии. Размер должен
быть по крайней мере 8 байтов, а оптимальные размеры - 8, 16, 32,
64, 128, и 256. Больший массив состояния, лучше.
<p>Возвращаемое значение - предыдущее значение массива информации о
состоянии. Вы можете использовать это значение позже как аргумент
setstate, чтобы восстановить состояние.
</p><p>
</p><blockquote><code>
</code><pre>     void *setstate (void *state)
</pre>
</blockquote>

Эта функция восстанавливает информацию о состоянии
случайного числа. Аргумент должен быть результатом предыдущего
обращения к initstate или setstate.
<p>Возвращаемое значение - предыдущее значение массива информации о
состоянии. Вы можете использовать это значение позже как аргумент
setstate, чтобы восстановить состояние.
</body></html>